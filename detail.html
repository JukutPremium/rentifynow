<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Produk</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../js/data.js"></script>
  <script src="../js/waconfig.js"></script>
</head>

<body class="p-6">
  <a href="index.html#product-list"
    class="bg-[#010203] flex flexed justify-center items-center h-14 w-14 rounded-full fixed z-[9999] left-4 top-4 p-4 hover:animate-pulse hover:scale-[1.1] ease-in-out duration-300">
    <span class="ml-1 block w-5 h-5 border-white border-b-2 border-l-2 rotate-45"></span>
  </a>

  <div class=" mx-auto px-5 py-24" id="product-detail">
    <div id="product-details" class="p-5 border rounded-lg shadow-md text-center">
      <!-- Informasi produk akan ditampilkan di sini -->
    </div>
  </div>


  <script>
    // Fungsi untuk mendapatkan parameter dari URL
    function getQueryParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    const productId = getQueryParameter('id');
    const product = products.find(p => p.id === parseInt(productId));

    const productDetail = document.getElementById('product-detail');
    if (product) {
      productDetail.innerHTML = `
              <section class="text-gray-600 body-font overflow-hidden">
                <div class="container px-5 py-24 mx-auto">
                  <div class="lg:w-4/5 mx-auto flex flex-wrap">
                    <div class="lg:w-1/2 w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0">
                      <h2 class="text-sm title-font text-gray-500 tracking-widest">${product.category}</h2>
                      <h1 class="text-gray-900 text-3xl title-font font-medium mb-4">${product.name}</h1>
                      <div class="flex mb-4">
                        <a class="flex-grow text-indigo-500 border-b-2 border-indigo-500 py-2 text-lg px-1">Description</a>
                      </div>
                      <p class="leading-relaxed mb-4">${product.description}</p>
                      <div class="flex border-t border-gray-200 py-2">
                        <span class="text-gray-500">Color</span>
                        <span class="ml-auto text-gray-900">${product.color}</span>
                      </div>
                      <div class="flex border-t border-b mb-6 border-gray-200 py-2">
                        <span class="text-gray-500">Quantity</span>
                        <span class="ml-auto text-gray-900">${product.quantity}</span>
                      </div>
                      <div class="flex">
                        <span class="title-font font-medium text-2xl text-gray-900">Rp. ${product.price},00-</span>
                        <button onclick="toggleModal()" class="flex ml-auto text-white bg-[#010203] border-0 py-2 px-6 focus:outline-none">Rent Now!</button>
                      </div>
                    </div>
                    <img alt="ecommerce" class="lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded" src="${product.img}">
                  </div>
                </div>

                  <!-- Modal -->
                    <div id="bookingModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50">
                      <div class="bg-white rounded-lg p-6 max-w-md w-full space-y-4">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Booking Form</h2>
                        <form id="bookingForm">
                          <label class="block mb-2 text-gray-700" for="name">Name:</label>
                          <input class="w-full px-3 py-2 border rounded" type="text" id="name" required>
                        
                          <label class="block mb-2 text-gray-700" for="number">Number:</label>
                          <input class="w-full px-3 py-2 border rounded" type="text" id="number" required>
                        
                          <label class="block mt-4 mb-2 text-gray-700" for="address">Address:</label>
                          <input class="w-full px-3 py-2 border rounded" type="text" id="address" required>
                        
                          <label class="block mt-4 mb-2 text-gray-700" for="rentalDate">Rental Date:</label>
                          <input class="w-full px-3 py-2 border rounded" type="date" id="rentalDate" required>
                        
                          <label class="block mt-4 mb-2 text-gray-700" for="returnDate">Return Date:</label>
                          <input class="w-full px-3 py-2 border rounded" type="date" id="returnDate" required>
                        
                          <label class="block mt-4 mb-2 text-gray-700" for="carType">Car Type:</label>
                          <input class="w-full px-3 py-2 border rounded" type="text" id="carType" value="${product.name}" readonly>

                          <div class="flex mt-6">
                            <button type="button" onclick="sendWhatsApp()" class="bg-[#010203] text-white px-4 py-2 rounded mr-4">Submit</button>
                            <button type="button" onclick="toggleModal()" class="px-4 py-2 text-gray-700 bg-gray-200 rounded">Cancel</button>
                          </div>
                        </form>
                      </div>
                    </div>
              </section>






              <section class="text-gray-600 body-font">
                <div class="container px-5 py-24 mx-auto">
                  <h1 class="text-3xl font-medium title-font text-gray-900 mb-12 text-center">Testimonials</h1>
                  <div class="flex flex-wrap -m-4">
                    <div class="p-4 md:w-1/2 w-full">
                      <div class="h-full bg-gray-100 p-8 rounded">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="block w-5 h-5 text-gray-400 mb-4" viewBox="0 0 975.036 975.036">
                          <path d="M925.036 57.197h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.399 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l36 76c11.6 24.399 40.3 35.1 65.1 24.399 66.2-28.6 122.101-64.8 167.7-108.8 55.601-53.7 93.7-114.3 114.3-181.9 20.601-67.6 30.9-159.8 30.9-276.8v-239c0-27.599-22.401-50-50-50zM106.036 913.497c65.4-28.5 121-64.699 166.9-108.6 56.1-53.7 94.4-114.1 115-181.2 20.6-67.1 30.899-159.6 30.899-277.5v-239c0-27.6-22.399-50-50-50h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.4 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l35.9 75.8c11.601 24.399 40.501 35.2 65.301 24.399z"></path>
                        </svg>
                        <p class="leading-relaxed mb-6">${product.testimoni1}</p>
                        <a class="inline-flex items-center">
                          <img alt="testimonial" src="../assets/usericon.png" class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center">
                          <span class="flex-grow flex flex-col pl-4">
                            <span class="title-font font-medium text-gray-900">${product.user1}</span>
                            <span class="text-gray-500 text-sm"></span>
                          </span>
                        </a>
                      </div>
                    </div>
                    <div class="p-4 md:w-1/2 w-full">
                      <div class="h-full bg-gray-100 p-8 rounded">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="block w-5 h-5 text-gray-400 mb-4" viewBox="0 0 975.036 975.036">
                          <path d="M925.036 57.197h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.399 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l36 76c11.6 24.399 40.3 35.1 65.1 24.399 66.2-28.6 122.101-64.8 167.7-108.8 55.601-53.7 93.7-114.3 114.3-181.9 20.601-67.6 30.9-159.8 30.9-276.8v-239c0-27.599-22.401-50-50-50zM106.036 913.497c65.4-28.5 121-64.699 166.9-108.6 56.1-53.7 94.4-114.1 115-181.2 20.6-67.1 30.899-159.6 30.899-277.5v-239c0-27.6-22.399-50-50-50h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.4 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l35.9 75.8c11.601 24.399 40.501 35.2 65.301 24.399z"></path>
                        </svg>
                        <p class="leading-relaxed mb-6">${product.testimoni2}</p>
                        <a class="inline-flex items-center">
                          <img alt="testimonial" src="../assets/usericon.png" class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center">
                          <span class="flex-grow flex flex-col pl-4">
                            <span class="title-font font-medium text-gray-900">${product.user2}</span>
                            <span class="text-gray-500 text-sm"></span>
                          </span>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
       
      `;
    } else {
      productDetail.innerHTML = `<p>Produk tidak ditemukan.</p>`;
    }

    function toggleModal() {
  document.getElementById("bookingModal").classList.toggle("hidden");
}

function sendWhatsApp() {
  const name = document.getElementById("name").value;
  const address = document.getElementById("address").value;
  const carType = document.getElementById("carType").value;
  const number = document.getElementById("number").value;
  const rentalDate = document.getElementById("rentalDate").value;
  const returnDate = document.getElementById("returnDate").value;

  if (!name || !address || !carType) {
    alert("Please fill out all required fields.");
    return;
  }
  // ...... ....
  const encodedPhoneNumber = "NjI4NTE3NTQzMTc1Mw==";
  const phoneNumber = atob(encodedPhoneNumber);

  const message = `Hello, I would like to rent a car:\n\n- Name: ${name}\n- Phone Number: ${number}\n- Address: ${address}\n- Car Type: ${carType}\n- Rental Date: ${rentalDate}\n- Return Date: ${returnDate}`;
  const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

  window.open(whatsappUrl, "_blank");
}


  </script>
</body>

</html>